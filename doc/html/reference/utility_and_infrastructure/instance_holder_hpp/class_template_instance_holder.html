<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template instance_holder</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../../index.html" title="Boost.Python Reference Manual">
<link rel="up" href="../instance_holder_hpp.html" title="instance_holder.hpp">
<link rel="prev" href="../instance_holder_hpp.html" title="instance_holder.hpp">
<link rel="next" href="class_template_instance_holder/class_intance_holder_modifiers.html" title="Class intance_holder modifiers">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../images/boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../instance_holder_hpp.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../instance_holder_hpp.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="class_template_instance_holder/class_intance_holder_modifiers.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="utility_and_infrastructure.instance_holder_hpp.class_template_instance_holder"></a><a class="link" href="class_template_instance_holder.html" title="Class template instance_holder">Class
        template <code class="computeroutput"><span class="identifier">instance_holder</span></code></a>
</h3></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="class_template_instance_holder.html#utility_and_infrastructure.instance_holder_hpp.class_template_instance_holder.class_intance_holder_destructor">Class
          <code class="computeroutput"><span class="identifier">intance_holder</span></code> destructor</a></span></dt>
<dt><span class="section"><a href="class_template_instance_holder/class_intance_holder_modifiers.html">Class
          <code class="computeroutput"><span class="identifier">intance_holder</span></code> modifiers</a></span></dt>
<dt><span class="section"><a href="class_template_instance_holder/class_intance_holder_observers.html">Class
          <code class="computeroutput"><span class="identifier">intance_holder</span></code> observers</a></span></dt>
</dl></div>
<p>
          instance_holder is an abstract base class whose concrete derived classes
          hold C++ class instances within their Python object wrappers. To allow
          multiple inheritance in Python from C++ class wrappers, each such Python
          object contains a chain of instance_holders. When an __init__ function
          for a wrapped C++ class is invoked, a new instance_holder instance is created
          and installed in the Python object using its install() function. Each concrete
          class derived from instance_holder must provide a holds() implementation
          which allows Boost.Python to query it for the type(s) it is holding. In
          order to support the held type's wrapped constructor(s), the class must
          also provide constructors that can accept an initial PyObject* argument
          referring to the owning Python object, and which forward the rest of their
          arguments to the constructor of the held type. The initial argument is
          needed to enable virtual function overriding in Python, and may be ignored,
          depending on the specific instance_holder subclass.
        </p>
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">boost</span> <span class="special">{</span> <span class="keyword">namespace</span> <span class="identifier">python</span>
<span class="special">{</span>
  <span class="keyword">class</span> <span class="identifier">instance_holder</span> <span class="special">:</span> <span class="identifier">noncopyable</span>
  <span class="special">{</span>
   <span class="keyword">public</span><span class="special">:</span>
      <span class="comment">// destructor</span>
      <span class="keyword">virtual</span> <span class="special">~</span><span class="identifier">instance_holder</span><span class="special">();</span>

      <span class="comment">// instance_holder modifiers</span>
      <span class="keyword">void</span> <span class="identifier">install</span><span class="special">(</span><span class="identifier">PyObject</span><span class="special">*</span> <span class="identifier">inst</span><span class="special">)</span> <span class="keyword">throw</span><span class="special">();</span>

      <span class="comment">// instance_holder observers</span>
      <span class="keyword">virtual</span> <span class="keyword">void</span><span class="special">*</span> <span class="identifier">holds</span><span class="special">(</span><span class="identifier">type_info</span><span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span>
  <span class="special">};</span>
<span class="special">}}</span>
</pre>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="utility_and_infrastructure.instance_holder_hpp.class_template_instance_holder.class_intance_holder_destructor"></a><a class="link" href="class_template_instance_holder.html#utility_and_infrastructure.instance_holder_hpp.class_template_instance_holder.class_intance_holder_destructor" title="Class intance_holder destructor">Class
          <code class="computeroutput"><span class="identifier">intance_holder</span></code> destructor</a>
</h4></div></div></div>
<pre class="programlisting"><span class="keyword">virtual</span> <span class="special">~</span><span class="identifier">instance_holder</span><span class="special">();</span></pre>
<div class="variablelist">
<p class="title"><b></b></p>
<dl class="variablelist">
<dt><span class="term">Effects</span></dt>
<dd><p>
                  destroys the object
                </p></dd>
</dl>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2002-2005, 2015 David Abrahams, Stefan Seefeld<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../instance_holder_hpp.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../instance_holder_hpp.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="class_template_instance_holder/class_intance_holder_modifiers.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
